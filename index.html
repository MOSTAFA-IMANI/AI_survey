<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ÙØ±Ù… Ú©Ø§Ø±Ú¯Ø§Ù‡ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ</title>

    <!-- Bootstrap RTL + Vazirmatn -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet" />

    <style>
        body { font-family: 'Vazirmatn', sans-serif; background-color: #ffffff; }
        .container { max-width: 800px; margin-top: 30px; background: #fff; padding: 30px; border-radius: 12px; box-shadow: 0 6px 20px rgba(0,0,0,0.08); }

        /* Likert button group aesthetic */
        .likert-group .btn {
          border-radius: 10px !important;
          padding: .55rem .85rem;
          border: 1px solid #e5e7eb;
          background: #f8fafc;
          color: #111827;
          transition: all .15s ease-in-out;
        }
        .likert-group .btn:hover { background: #eef2ff; border-color: #c7d2fe; }
        .likert-group .btn-check:checked + .btn {
          background: #0d6efd;
          color: #fff;
          border-color: #0d6efd;
          box-shadow: 0 0 0 .2rem rgba(13,110,253,.15);
        }
        .scale-hints { font-size: .85rem; color: #6b7280; }
        .hint-row { display: flex; justify-content: space-between; margin-top: .35rem; }
        .hint-row span { white-space: nowrap; }
        .section-title { font-weight: 700; font-size: 1.05rem; }

        /* Loading overlay styles */
        #loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.9);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-family: 'Vazirmatn', sans-serif;
            font-size: 1.2rem;
            color: #333;
            display: none;
        }
        .spinner {
            border: 4px solid #e5e7eb;
            border-top: 4px solid #0d6efd;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin-bottom: 15px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
<div class="container">
    <h4 class="text-center mb-4">ÙØ±Ù… Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø§Ø±Ú¯Ø§Ù‡ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ</h4>

    <form id="ai-form" action="https://n8n.rymon-afzar.ir/webhook/e3905b74-63ec-4a66-bbbb-a9cca2864538" method="POST" novalidate>

        <!-- Ù¾Ø§Ø³Ø® Ø¨Ø§Ø² -->
        <div class="mb-3">
            <label class="form-label">Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ø´Ù…Ø§ Ú†ÛŒØ³ØªØŸ</label>
            <input type="text" name="name" class="form-control" required />
        </div>

        <div class="mb-3">
            <label class="form-label">Ø§ÛŒÙ…ÛŒÙ„ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯</label>
            <input type="email" name="email" class="form-control" required autocomplete="email" inputmode="email" dir="ltr" pattern="^[^\s@]+@[^\s@]+\.[^\s@]{2,}$" />
        </div>

        <div class="mb-3">
            <label class="form-label">Ø±Ø´ØªÙ‡ ØªØ­ØµÛŒÙ„ÛŒ</label>
            <input type="text" name="job_title" class="form-control" />
        </div>

        <!-- ØªÚ©â€ŒÚ¯Ø²ÛŒÙ†Ù‡â€ŒØ§ÛŒ: Ø¬Ù†Ø³ÛŒØª -->
        <div class="mb-3">
            <label class="form-label">Ø¬Ù†Ø³ÛŒØª</label>
            <div class="d-flex gap-3">
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="gender" id="gender_male" value="Ù…Ø±Ø¯" required>
                    <label class="form-check-label" for="gender_male">Ù…Ø±Ø¯</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="gender" id="gender_female" value="Ø²Ù†" required>
                    <label class="form-check-label" for="gender_female">Ø²Ù†</label>
                </div>
            </div>
        </div>

        <div class="mb-3"><label class="form-label">Ø¯Ø± Ø¯Ùˆ Ø¬Ù…Ù„Ù‡ Ù…Ù‡Ù…â€ŒØªØ±ÛŒÙ† ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø´Ø®ØµÛŒØªÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ú¯ÙˆÛŒÛŒØ¯</label><textarea class="form-control" name="self_description" rows="3" required></textarea></div>

        <!-- ØªÚ©â€ŒÚ¯Ø²ÛŒÙ†Ù‡â€ŒØ§ÛŒ: ÙˆØ§Ø­Ø¯ Ø³Ø§Ø²Ù…Ø§Ù†ÛŒ -->
        

        <!-- Ø³Ø§Ø¹Ø§Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ± -->
        <div class="mb-3">
            <label class="form-label">Ø¨Ù‡â€ŒØ·ÙˆØ± Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø¯Ø± Ø±ÙˆØ² Ú†Ù†Ø¯ Ø³Ø§Ø¹Øª Ø§Ø² Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ØŸ</label>
            <select class="form-select" name="computer_usage">
                <option>Ú©Ù…ØªØ± Ø§Ø² Û± Ø³Ø§Ø¹Øª</option>
                <option>Û±â€“Û³ Ø³Ø§Ø¹Øª</option>
                <option>Û´â€“Û¶ Ø³Ø§Ø¹Øª</option>
                <option>Ø¨ÛŒØ´ Ø§Ø² Û¶ Ø³Ø§Ø¹Øª</option>
            </select>
        </div>

        <!-- Ø³Ø§Ø¹Ø§Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ†ØªØ±Ù†Øª -->
        <div class="mb-3">
            <label class="form-label">Ø¨Ù‡â€ŒØ·ÙˆØ± Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø¯Ø± Ø±ÙˆØ² Ú†Ù†Ø¯ Ø³Ø§Ø¹Øª Ø§Ø² Ø§ÛŒÙ†ØªØ±Ù†Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ØŸ</label>
            <select class="form-select" name="internet_usage">
                <option>Ú©Ù…ØªØ± Ø§Ø² Û± Ø³Ø§Ø¹Øª</option>
                <option>Û±â€“Û³ Ø³Ø§Ø¹Øª</option>
                <option>Û´â€“Û¶ Ø³Ø§Ø¹Øª</option>
                <option>Ø¨ÛŒØ´ Ø§Ø² Û¶ Ø³Ø§Ø¹Øª</option>
            </select>
        </div>

        <!-- Ú†Ù†Ø¯Ú¯Ø²ÛŒÙ†Ù‡â€ŒØ§ÛŒ: Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ -->
        <div class="mb-3">
            <label class="form-label">Ø¨Ø§ Ú©Ø¯Ø§Ù…â€ŒÛŒÚ© Ø§Ø² Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ø²ÛŒØ± Ú©Ø§Ø± Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯ØŸ</label>
            <div class="row row-cols-1 row-cols-sm-2 g-2">
                <div class="form-check"><input class="form-check-input" type="checkbox" name="tools" value="ChatGPT" id="t1"><label class="form-check-label" for="t1">ChatGPT</label></div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="tools" value="Google Sheets" id="t2"><label class="form-check-label" for="t2">Google Sheets</label></div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="tools" value="Gemini" id="t3"><label class="form-check-label" for="t3">Gemini</label></div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="tools" value="Google Calendar" id="t4"><label class="form-check-label" for="t4">Google Calendar</label></div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="tools" value="Copilot" id="t5"><label class="form-check-label" for="t5">Copilot</label></div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="tools" value="Notion AI" id="t6"><label class="form-check-label" for="t6">Notion AI</label></div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="tools" value="Bing AI" id="t7"><label class="form-check-label" for="t7">Bing AI</label></div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="tools" value="n8n" id="t8"><label class="form-check-label" for="t8">n8n</label></div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="tools" value="Claude" id="t9"><label class="form-check-label" for="t9">Claude</label></div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="tools" value="Grammarly" id="t10"><label class="form-check-label" for="t10">Grammarly</label></div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="tools" value="NotebookLM" id="t11"><label class="form-check-label" for="t11">NotebookLM</label></div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="tools" value="Midjourney" id="t12"><label class="form-check-label" for="t12">Midjourney</label></div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="tools" value="Whisper" id="t13"><label class="form-check-label" for="t13">Whisper</label></div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="tools" value="DALLÂ·E" id="t14"><label class="form-check-label" for="t14">DALLÂ·E</label></div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="tools" value="Deepseek" id="t15"><label class="form-check-label" for="t15">Deepseek</label></div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="tools" value="RunwayML" id="t16"><label class="form-check-label" for="t16">RunwayML</label></div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="tools" value="Ù‡ÛŒÚ†â€ŒÚ©Ø¯Ø§Ù…" id="t17"><label class="form-check-label" for="t17">Ù‡ÛŒÚ†â€ŒÚ©Ø¯Ø§Ù…</label></div>
            </div>
        </div>


        <!-- Likert: Ø³Ø·Ø­ Ø²Ø¨Ø§Ù† Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ -->
        <div class="mb-3">
            <div class="d-flex justify-content-between align-items-center">
                <label class="form-label section-title mb-1">Ø³Ø·Ø­ Ø²Ø¨Ø§Ù† Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ú†Ø·ÙˆØ± Ø§Ø³ØªØŸ</label>
                <small class="text-muted">Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ù…Ø§: <span id="english-value">Û³</span>/Ûµ</small>
            </div>
            <div class="btn-group w-100 likert-group" role="group">
                <input type="radio" class="btn-check" name="english_level" id="eng1" value="1"><label class="btn flex-fill me-2" for="eng1">Û±<br><small>Ø®ÛŒÙ„ÛŒ Ø¶Ø¹ÛŒÙ ğŸ˜“</small></label>
                <input type="radio" class="btn-check" name="english_level" id="eng2" value="2"><label class="btn flex-fill me-2" for="eng2">Û²<br><small>Ø¶Ø¹ÛŒÙ ğŸ˜•</small></label>
                <input type="radio" class="btn-check" name="english_level" id="eng3" value="3" checked><label class="btn flex-fill me-2" for="eng3">Û³<br><small>Ù…ØªÙˆØ³Ø· ğŸ™‚</small></label>
                <input type="radio" class="btn-check" name="english_level" id="eng4" value="4"><label class="btn flex-fill me-2" for="eng4">Û´<br><small>Ø®ÙˆØ¨ ğŸ˜ƒ</small></label>
                <input type="radio" class="btn-check" name="english_level" id="eng5" value="5"><label class="btn flex-fill" for="eng5">Ûµ<br><small>Ø¹Ø§Ù„ÛŒ ğŸ†</small></label>
            </div>
            <div class="scale-hints hint-row"><span>Ø®ÛŒÙ„ÛŒ Ø¶Ø¹ÛŒÙ</span><span>Ø¹Ø§Ù„ÛŒ</span></div>
        </div>

        <!-- Likert: ØªØ§Ø«ÛŒØ± Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ -->
        <div class="mb-3">
            <div class="d-flex justify-content-between align-items-center">
                <label class="form-label section-title mb-1">Ø§Ø² Û± ØªØ§ Ûµ ØªØ§Ø«ÛŒØ± Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ø¨Ø± Ø¢ÛŒÙ†Ø¯Ù‡ Ø´ØºÙ„ÛŒ/Ø³Ø§Ø²Ù…Ø§Ù†ÛŒ Ø´Ù…Ø§ØŸ</label>
                <small class="text-muted">Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ù…Ø§: <span id="impact-value">Û³</span>/Ûµ</small>
            </div>
            <div class="btn-group w-100 likert-group" role="group">
                <input type="radio" class="btn-check" name="ai_impact" id="imp1" value="1"><label class="btn flex-fill me-2" for="imp1">Û±<br><small>Ø®ÛŒÙ„ÛŒ Ú©Ù…</small></label>
                <input type="radio" class="btn-check" name="ai_impact" id="imp2" value="2"><label class="btn flex-fill me-2" for="imp2">Û²<br><small>Ú©Ù…</small></label>
                <input type="radio" class="btn-check" name="ai_impact" id="imp3" value="3" checked><label class="btn flex-fill me-2" for="imp3">Û³<br><small>Ù…ØªÙˆØ³Ø·</small></label>
                <input type="radio" class="btn-check" name="ai_impact" id="imp4" value="4"><label class="btn flex-fill me-2" for="imp4">Û´<br><small>Ø²ÛŒØ§Ø¯</small></label>
                <input type="radio" class="btn-check" name="ai_impact" id="imp5" value="5"><label class="btn flex-fill" for="imp5">Ûµ<br><small>Ø®ÛŒÙ„ÛŒ Ø²ÛŒØ§Ø¯ âš¡</small></label>
            </div>
            <div class="scale-hints hint-row"><span>Ø®ÛŒÙ„ÛŒ Ú©Ù…</span><span>Ø®ÛŒÙ„ÛŒ Ø²ÛŒØ§Ø¯</span></div>
        </div>

        <!-- Ù†ÙˆØ¹ Ù…Ø­ØªÙˆØ§ -->
        <div class="mb-3">
            <label class="form-label">ØªØ±Ø¬ÛŒØ­ Ù…ÛŒâ€ŒØ¯Ù‡ÛŒØ¯ Ø¯Ø± Ø·ÙˆÙ„ Ø¯ÙˆØ±Ù‡ Ø¨ÛŒØ´ØªØ± Ø¨Ø§ Ú©Ø¯Ø§Ù… Ù†ÙˆØ¹ Ù…Ø­ØªÙˆØ§ Ø¢Ø´Ù†Ø§ Ø´ÙˆÛŒØ¯ØŸ</label>
            <div class="row row-cols-1 row-cols-sm-2 g-2">
                <div class="form-check"><input class="form-check-input" type="checkbox" name="preferred_content" value="Ù…Ø«Ø§Ù„â€ŒÙ‡Ø§ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ Ø§Ø² Ø§ÛŒØ±Ø§Ù†" id="pc1"><label class="form-check-label" for="pc1">Ù…Ø«Ø§Ù„â€ŒÙ‡Ø§ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ Ø§Ø² Ø§ÛŒØ±Ø§Ù†</label></div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="preferred_content" value="Ú©ÛŒØ³â€ŒÙ‡Ø§ÛŒ Ø¨ÛŒÙ†â€ŒØ§Ù„Ù…Ù„Ù„ÛŒ Ù…ÙˆÙÙ‚" id="pc2"><label class="form-check-label" for="pc2">Ú©ÛŒØ³â€ŒÙ‡Ø§ÛŒ Ø¨ÛŒÙ†â€ŒØ§Ù„Ù…Ù„Ù„ÛŒ Ù…ÙˆÙÙ‚</label></div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="preferred_content" value="Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ Ùˆ Ø¯Ù…â€ŒØ¯Ø³ØªÛŒ" id="pc3"><label class="form-check-label" for="pc3">Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ Ùˆ Ø¯Ù…â€ŒØ¯Ø³ØªÛŒ</label></div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="preferred_content" value="Ù…ÙØ§Ù‡ÛŒÙ… Ùˆ ØªØ±Ù†Ø¯Ù‡Ø§" id="pc4"><label class="form-check-label" for="pc4">Ù…ÙØ§Ù‡ÛŒÙ… Ùˆ ØªØ±Ù†Ø¯Ù‡Ø§</label></div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="preferred_content" value="Ù‡Ù…Ù‡ Ù…ÙˆØ§Ø±Ø¯" id="pc5"><label class="form-check-label" for="pc5">Ù‡Ù…Ù‡ Ù…ÙˆØ§Ø±Ø¯</label></div>
            </div>
        </div>

        <!-- Ø¯ØºØ¯ØºÙ‡ Ø°Ù‡Ù†ÛŒ -->
        <div class="mb-3">
            <label class="form-label">Ø¢ÛŒØ§ Ø³ÙˆØ§Ù„ ÛŒØ§ Ø¯ØºØ¯ØºÙ‡â€ŒØ§ÛŒ Ø¯Ø± Ø°Ù‡Ù† Ø¯Ø§Ø±ÛŒØ¯ Ú©Ù‡ Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒØ¯ Ø¯Ø± Ú©Ù„Ø§Ø³ Ù¾Ø§Ø³Ø® Ø¯Ø§Ø¯Ù‡ Ø´ÙˆØ¯ØŸ</label>
            <textarea class="form-control" name="questions" rows="3"></textarea>
        </div>

        <button type="submit" class="btn btn-primary w-100 mt-3">Ø«Ø¨Øª</button>
    </form>
</div>

<!-- Loading overlay -->
<div id="loading-overlay">
    <div class="spinner"></div>
    <div>Ø¯Ø± Ø­Ø§Ù„ ØªØ­Ù„ÛŒÙ„ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§ Ù‡Ø³ØªÛŒÙ…...</div>
</div>

</body>
<script>
    function showLoading() {
        document.getElementById("loading-overlay").style.display = "flex";
    }
    function hideLoading() {
        document.getElementById("loading-overlay").style.display = "none";
    }

    document.getElementById("ai-form").addEventListener("submit", function (e) {
        e.preventDefault();
        const form = this;

        if (!form.checkValidity()) {
            form.reportValidity();
            return;
        }

        const toolsSelected = Array.from(form.querySelectorAll('input[name="tools"]:checked')).map(el => el.value);
        const preferredSelected = Array.from(form.querySelectorAll('input[name="preferred_content"]:checked')).map(el => el.value);

        const data = {
            name: form.querySelector('[name="name"]').value,
            email: form.querySelector('[name="email"]').value,
            job_title: form.querySelector('[name="job_title"]').value,
            department: form.querySelector('[name="department"]').value,
            computer_usage: form.querySelector('[name="computer_usage"]').value,
            internet_usage: form.querySelector('[name="internet_usage"]').value,
            tools_used: toolsSelected,
            self_description: form.querySelector('[name="self_description"]').value,
            gender: form.querySelector('input[name="gender"]:checked')?.value || "",
            english_level: form.querySelector('input[name="english_level"]:checked')?.value || "",
            ai_impact: form.querySelector('input[name="ai_impact"]:checked')?.value || "",
            preferred_content: preferredSelected,
            questions: form.querySelector('[name="questions"]').value
        };

        showLoading(); // show loading before sending

        const startTime = Date.now();

        fetch(form.action, {
            method: 'POST',
            body: JSON.stringify(data),
            headers: { 'Content-Type': 'application/json' }
        })
        .then(res => res.text())
        .then(res => {
            const elapsed = Date.now() - startTime;
            const delay = Math.max(2000 - elapsed, 0); // ensure at least 2 seconds
            setTimeout(() => {
                hideLoading();
                alert("Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯ âœ…\nØ§ÛŒÙ…ÛŒÙ„ Ø§Ø®ØªØµØ§ØµÛŒ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ ØªØ§ Ø¯Ù‚Ø§ÛŒÙ‚ÛŒ Ø¯ÛŒÚ¯Ø± Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒØ´ÙˆØ¯  ğŸ“§");
                form.reset();
                document.getElementById('eng3').checked = true;
                document.getElementById('imp3').checked = true;
                syncLikertLabels();
            }, delay);
        })
        .catch(err => {
            hideLoading();
            alert(err);
            console.error(err);
        });
    });
</script>
</html>
